# TelrosDemo

Для запуска проекта в докере сперва нужно собрать проект (Maven package), затем прописать в консоли docker build, затем docker-compose up\
В корневой папке проекта есть файл для Postman (TELROS.postman_collection.json), в нём написаны все энпоинты для тестирования

Для хранения фотографий используется minio (http://127.0.0.1:9090). Логин и пароль к minio (minioadmin:minioadmin)\
При создании первой фотографии создаётся бакет images.

Изначально в базе создаётся пользователь с логином и паролем (admin:admin). В качестве логина используется поле email.\
Для получения токена пользователя используется эндпоинт Authenticate User (localhost:8080/api/v1/auth/authenticate).\
Для создания новых пользователей можно использовать эндпоинт Register User (localhost:8080/api/v1/auth/register) или Create User (localhost:8080/api/v1/users/create).

Энпоинты распределены по папкам: \
  ADMIN: эндпоинты, которые может вызывать только администратор (чтение, обновление и удаление пользователей или их фотографий по id пользователя)\
  USER: эндпоинты, которые может вызывать любой пользователь. Предназначены для работы со своим профилем без использования id.\
  EVERYONE: эндпоинты, которые может вызывать любой пользователь. Предназначены для просмотра информации о других пользователях по id.

Описание эндпоинтов: 
 - ADMIN:
   + Create User : создаёт нового пользователя
   + Upload User Image : загружает фотографию в minio и записывает имя соответсвующего файла в бд
   + Update User : обновление информации о пользователе
   + Update User Image : обновление фотографии пользователя
   + Delete User By Id : удаление пользователя по id
   + Delete User Photo : удаление фото пользователя по id пользователя
 - USER: 
   + Update Self : обновление собственной информации пользователя без использования id
   + Update Self Image : обновление собственной фотографии пользователя без использования id
   + Delete Self : удаление собственной записи из бд без использования id
   + Delete Self Image :  удаление собственной фотографии без использования id
   + Get Self Image : получение собственной фотографии без использования id
   + Get Self Contact Info : получение собственной контактной информации без использования id
   + Get Self : получение собственной информации без использования id
   + Upload Image To Self : загрузка своей фотографии без использования id
- Everyone: 
   + Get User Contact Info By Id : получение контактной информации пользователя по id
   + Get All Users : получение информации о всех пользователях
   + Get User Image : получение фотографии пользователя по id
   + Get User By Id : получение информации о пользователе по id
+ Register User : регистрация нового пользователя 
+ Authenticate User : получение токена по логину(email в бд) и паролю
  








    
